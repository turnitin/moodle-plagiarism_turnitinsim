define ("plagiarism_turnitinsim/cv_launch",["jquery"],function(a){return{openCv:function openCv(){a(document).on("click",".turnitinsim_or_score",function(){var b=a(this).parent().attr("class").split(/\s+/),c=0;a(b).each(function(a){if(b[a].match("^submission_")){c=b[a].split("_")[1]}});var d=M.cfg.wwwroot+"/plagiarism/turnitinsim/pix/turnitin-logo.png",e=window.open();e.document.write("<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\""+M.cfg.wwwroot+"/plagiarism/turnitinsim/styles.css\"></head><body>");e.document.write("</body></html>");a(e.document.body).html("<div class=\"turnitinsim_Loading\"><div><img class=\"turnitinsim_loadingLogo\" src=\""+d+"\"></div><div class=\"turnitinsim_Loading_Circles\"><span class=\"turnitinsim_Loading_Circle-1\"></span><span class=\"turnitinsim_Loading_Circle-2\"></span><span class=\"turnitinsim_Loading_Circle-3\"></span></div></div>");a.ajax({type:"GET",url:M.cfg.wwwroot+"/plagiarism/turnitinsim/ajax/cv.php",dataType:"json",data:{action:"request_cv_launch",submissionid:c,sesskey:M.cfg.sesskey},success:function success(a){e.location=a.viewer_url;this.checkDVClosed(e)},checkDVClosed:function checkDVClosed(a){var b=this;if(a.closed){window.location=window.location+""}else{setTimeout(function(){b.checkDVClosed(a)},500)}}})})}}});
//# sourceMappingURL=cv_launch.min.js.map
